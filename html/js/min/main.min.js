function init(){var e={center:new google.maps.LatLng(37.4224497,-122.08403290000001),zoom:10,zoomControl:!1,disableDoubleClickZoom:!0,mapTypeControl:!1,scaleControl:!1,scrollwheel:!0,panControl:!0,streetViewControl:!1,draggable:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!1},mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2e5d4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{color:"#acbcc9"}]}]},t=document.getElementById("startup-finder");map=new google.maps.Map(t,e),getMarkersDetails()}function getMarkersDetails(){d3.csv("data/data.csv",function(e){var t=d3.select("body").selectAll("article").data(e).enter();t.append("span").html(function(e){var t=JSON.stringify(e["Company Name"]).replace(/"/g,""),a=JSON.stringify(e.Founder).replace(/"/g,""),r=JSON.stringify(e.City).replace(/"/g,""),n=JSON.stringify(e.Country).replace(/"/g,""),l=JSON.stringify(e["Postal Code"]).replace(/"/g,""),o=JSON.stringify(e[" Street"]).replace(/"/g,""),i=JSON.stringify(e.Photo).replace(/"/g,""),s=JSON.stringify(e["Home Page"]).replace(/"/g,""),p=JSON.stringify(e["Garage Latitude"]).replace(/"/g,""),d=JSON.stringify(e["Garage Longitude"]).replace(/"/g,""),c=JSON.stringify(e.Enabled).replace(/"/g,"");addMarker(p,d,t,a,r,n,l,o,i,s,c)})})}function addMarker(e,t,a,r,n,l,o,s,p,d,c){var g="<b>"+a+"</b><br>"+r+'<br><img src="'+p+'"><br>'+s+"<br>"+n+" - "+o+"<br>"+l+"<br> <a href="+d+"target='_blank' title='companyName'>"+d+"</a>",m=d,y="img/icons/solid-pin-normal.png",f="img/icons/solid-pin-active.png";if(link="http://"!=m.substring(0,7)?"http://"+m:m,"no"!=c){var u=new google.maps.Marker({icon:y,position:new google.maps.LatLng(e,t),map:map,title:a,desc:g,web:m,selected:!1});markers.push(u)}var v=parseInt(markers.length)-1;google.maps.event.addListener(markers[v],"click",function(){for(infowindow.setContent(g),infowindow.open(map,u),i=0;i<markers.length;i++)if(markers[i].selected){markers[i].selected=!1,markers[i].setIcon(y);break}markers[v].selected=!0,markers[v].setIcon(f)})}$(".intro .btn").click(function(){$(".intro").addClass("animated zoomOut sndBck"),$(".map").addClass("animated slideInUp visible")});var map,markers=[],infowindow=new google.maps.InfoWindow;google.maps.event.addDomListener(window,"load",init),d3.text("data/data.csv",function(e){var t=d3.csv.parseRows(e),a=d3.select("#data_grid").append("table");a.append("thead").append("tr").selectAll("th").data(t[0]).enter().append("th").text(function(e){return e}),a.append("tbody").selectAll("tr").data(t.slice(1)).enter().append("tr").selectAll("td").data(function(e){return e}).enter().append("td").text(function(e){return e})}),$("#addAct").click(function(){for(var e=$("#getVal").val().split(/\n/),t=[],a=0;a<e.length;a++)/\S/.test(e[a])&&t.push($.trim(e[a]));for(var r=JSON.stringify(t),n=[],a=0,l=r.length;l>a;++a)n.push(r[a].join(","));var o=n.join("%0A"),i=document.createElement("a");i.href="data:attachment/csv,"+o,i.target="_blank",i.download="data.csv",document.body.appendChild(i),i.click()});